<ion-content>
  <div class="ionContainer">
    <ion-item>
      Position: <input list="PositionList" [formControl]="addressField" (input)="positionSuggestion()" (change)="selectPositionSuggestion()">
      <datalist id="PositionList">
        <option *ngFor="let pos of addressSuggestions" [value]="pos.formatted" ></option>
      </datalist>
      <ion-icon name="locate-outline"></ion-icon>
    </ion-item>
    <br>
    <ion-item>
      Destination: <input list="DestinationList" [formControl]="addressField" (input)="destinationSuggestion()" (change)="selectDestinationSuggestion()">
      <datalist id="DestinationList">
        <option *ngFor="let des of addressSuggestions" [value]="des.formatted"></option>
      </datalist>
      <ion-icon name="locate-outline"></ion-icon>
    </ion-item>
    <br>
    <ion-item>
      <ion-input value="{{ date | date: 'dd.MM.yyyy' }}" id="date" class="ion-text-end"></ion-input>
      <ion-icon id="dateIcon" style="margin-right: 10px" name="calendar-outline"></ion-icon>
      <ion-icon name="time-outline"></ion-icon>
    </ion-item>
    <ion-popover trigger="date" size="cover">
      <ng-template>
        <ion-datetime
          presentation="date"
          [(ngModel)]="date"
          locale="DK"
        ></ion-datetime>
      </ng-template>
    </ion-popover>
    <br/>
    <ion-item>
      <ion-select [(ngModel)]="persons" style="width: auto" label="Persons" placeholder="Amount of people">
        <ion-select-option value="1">1</ion-select-option>
        <ion-select-option value="2">2</ion-select-option>
        <ion-select-option value="3">3</ion-select-option>
      </ion-select>
      <ion-button [disabled]="!persons" (click)="searchForPrices(5,5, persons)" slot="end">Search</ion-button>
    </ion-item>

  </div>
  <div>
    <br>


    <ion-card *ngFor="let taxInfo of state.taxinfos"
              class="taxi-price" (click)="clickedCard(taxInfo)"
              [attr.data-testid]="'card_'+taxInfo.companyName"
              style="max-width: 200px"
    >
      <div>
        <ion-card-title style="display: flex; align-items: center;justify-content: center;">
          {{taxInfo.companyName}}
        </ion-card-title>
        <ion-card-content style="display: flex; align-items: center;justify-content: center;">
          <img style="max-height: 50px;" [src]="'./assets/' + taxInfo.companyName + '.png'"
               alt="logo of {{taxInfo.companyName}}" fill="">
        </ion-card-content>
        <ion-card-subtitle style="display: flex; align-items: center;justify-content: center; font-size: x-large">
          {{taxInfo.taxiPrice + " DKK"}}
        </ion-card-subtitle>
      </div>

    </ion-card>

    <app-maps></app-maps>
  </div>


</ion-content>
